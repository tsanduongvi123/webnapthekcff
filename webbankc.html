<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shop Kim Cương Free Fire - DGViKAKA</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Poppins', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1a0033, #ff0066);
            color: #fff;
            line-height: 1.6;
            overflow-x: hidden;
            position: relative;
            overscroll-behavior: none;
        }

        /* Hiệu ứng bong bóng bay */
        .bubbles {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .bubble {
            position: absolute;
            background: rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            animation: rise 10s infinite ease-in-out;
            will-change: transform, opacity;
        }

        @keyframes rise {
            0% { transform: translateY(100vh); opacity: 0; }
            50% { opacity: 0.8; }
            100% { transform: translateY(-100vh); opacity: 0; }
        }

        /* Hiệu ứng đom đóm */
        .fireflies {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .firefly {
            position: absolute;
            background: #ffeb3b;
            border-radius: 50%;
            box-shadow: 0 0 10px #ffeb3b, 0 0 20px #ffeb3b;
            animation: fly 15s infinite ease-in-out, glow 1s infinite alternate;
            will-change: transform, opacity;
        }

        @keyframes fly {
            0% { transform: translate(0, 0); }
            20% { transform: translate(50px, 30px); }
            40% { transform: translate(-30px, 50px); }
            60% { transform: translate(40px, -20px); }
            80% { transform: translate(-20px, 40px); }
            100% { transform: translate(0, 0); }
        }

        @keyframes glow {
            0% { opacity: 0.5; box-shadow: 0 0 5px #ffeb3b; }
            100% { opacity: 1; box-shadow: 0 0 15px #ffeb3b, 0 0 25px #ffeb3b; }
        }

        /* Hiệu ứng ánh sao lấp lánh */
        .stars {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: -1;
        }

        .star {
            position: absolute;
            background: #fff;
            border-radius: 50%;
            animation: twinkle 2s infinite alternate;
            will-change: opacity;
        }

        @keyframes twinkle {
            0% { opacity: 0.3; }
            100% { opacity: 1; }
        }

        /* Hiệu ứng tuyết rơi */
        .snowflakes {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 0;
        }

        .snowflake {
            position: absolute;
            color: #fff;
            font-size: 1em;
            font-family: Arial, sans-serif;
            text-shadow: 0 0 5px rgba(255, 255, 255, 0.8);
            animation: fall 10s linear infinite;
            will-change: transform, opacity;
        }

        @keyframes fall {
            0% { transform: translateY(-10vh); opacity: 1; }
            100% { transform: translateY(110vh); opacity: 0; }
        }

        /* Hiệu ứng ánh sáng khi nhận thưởng */
        .reward-sparkle {
            position: absolute;
            width: 10px;
            height: 10px;
            background: #ffeb3b;
            border-radius: 50%;
            box-shadow: 0 0 10px #ffeb3b, 0 0 20px #ffeb3b;
            animation: sparkle 1s ease-out forwards;
            pointer-events: none;
        }

        @keyframes sparkle {
            0% { transform: scale(0); opacity: 1; }
            100% { transform: scale(2); opacity: 0; }
        }

        /* Menu 3 gạch */
        .hamburger-menu {
            position: fixed;
            top: 20px;
            left: 20px;
            z-index: 1000;
            cursor: pointer;
        }

        .hamburger-menu .icon {
            font-size: 2em;
            color: #ffcc00;
            text-shadow: 0 0 10px #ff4500;
        }

        .menu {
            position: fixed;
            top: 0;
            left: -250px;
            width: 250px;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            padding: 60px 20px;
            transition: left 0.3s ease;
            z-index: 999;
        }

        .menu.active {
            left: 0;
        }

        .menu ul {
            list-style: none;
        }

        .menu ul li {
            margin: 20px 0;
        }

        .menu ul li a {
            color: #ffcc00;
            text-decoration: none;
            font-size: 1.2em;
            display: block;
            padding: 10px;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .menu ul li a:hover {
            background: #ff4500;
            color: #fff;
        }

        /* Container */
        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 60px 20px;
        }

        .welcome {
            text-align: center;
            font-size: 3em;
            color: #ffcc00;
            margin-bottom: 50px;
            animation: fadeIn 2s ease-in;
            text-shadow: 0 0 20px #ff4500;
        }

        .section {
            background: rgba(255, 255, 255, 0.15);
            padding: 60px;
            border-radius: 25px;
            margin-bottom: 60px;
            box-shadow: 0 0 50px rgba(0, 0, 0, 0.4);
            backdrop-filter: blur(10px);
            position: relative;
            border: 2px solid #ff4500;
        }

        .section h2 {
            color: #ffcc00;
            margin-bottom: 40px;
            font-size: 3.5em;
            text-shadow: 0 0 20px #ff4500;
            text-align: center;
        }

        /* Thông tin tài khoản */
        .account-info {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 60px;
            display: none;
            border: 2px solid #ff4500;
        }

        .account-info h2 {
            color: #ffcc00;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
        }

        .account-info p {
            font-size: 1.2em;
            margin: 10px 0;
            color: #fff;
        }

        .account-info .level {
            font-size: 1.5em;
            color: #ff4500;
            margin-top: 20px;
        }

        .account-info .logout-btn {
            background: #ff4500;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            display: block;
            margin: 20px auto;
            transition: all 0.3s;
        }

        .account-info .logout-btn:hover {
            background: #ff0066;
            box-shadow: 0 0 20px #ff0066;
        }

        /* Gói kim cương */
        .package-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 40px;
        }

        .package {
            background: linear-gradient(135deg, #fff, #f0f0f0);
            color: #333;
            padding: 40px;
            text-align: center;
            border-radius: 25px;
            transition: all 0.3s;
            position: relative;
            overflow: hidden;
            border: 2px solid #ff4500;
        }

        .package::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: rgba(255, 204, 0, 0.2);
            transform: rotate(45deg);
            transition: all 0.5s;
        }

        .package:hover::before {
            top: -20%;
            left: -20%;
        }

        .package:hover {
            transform: translateY(-20px);
            box-shadow: 0 20px 40px rgba(255, 69, 0, 0.7);
        }

        .package h3 {
            font-size: 2.5em;
            color: #ff4500;
        }

        .package p {
            margin: 20px 0;
            font-weight: bold;
        }

        .package button {
            background: #ff4500;
            color: #fff;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .package button:hover {
            background: #ff0066;
            box-shadow: 0 0 20px #ff0066;
        }

        /* Form đăng nhập/đăng ký */
        .auth-form {
            background: #fff;
            color: #333;
            padding: 50px;
            border-radius: 25px;
            max-width: 700px;
            margin: 0 auto;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
            border: 2px solid #ff4500;
        }

        .auth-form h3 {
            color: #ff4500;
            margin-bottom: 40px;
            font-size: 2.5em;
            text-align: center;
        }

        .auth-form label {
            display: block;
            margin: 20px 0 5px;
            font-weight: bold;
        }

        .auth-form input {
            width: 100%;
            padding: 15px;
            margin-bottom: 25px;
            border: 2px solid #ff4500;
            border-radius: 10px;
            font-size: 1.2em;
        }

        .auth-form button {
            background: #ff4500;
            color: #fff;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.3em;
            transition: all 0.3s;
            display: block;
            margin: 0 auto;
        }

        .auth-form button:hover {
            background: #ff0066;
            box-shadow: 0 0 20px #ff0066;
        }

        .auth-form a {
            color: #ff4500;
            text-decoration: none;
            font-weight: bold;
        }

        .auth-form a:hover {
            color: #ff0066;
        }

        /* Form thanh toán */
        .payment-form {
            display: none;
            background: #fff;
            color: #333;
            padding: 50px;
            border-radius: 25px;
            max-width: 800px;
            margin: 0 auto;
            box-shadow: 0 0 40px rgba(0, 0, 0, 0.5);
            border: 2px solid #ff4500;
            position: relative;
        }

        .payment-form h3 {
            color: #ff4500;
            margin-bottom: 40px;
            font-size: 2.5em;
            text-align: center;
        }

        .payment-form label {
            display: block;
            margin: 20px 0 5px;
            font-weight: bold;
        }

        .payment-form input, .payment-form select {
            width: 100%;
            padding: 15px;
            margin-bottom: 25px;
            border: 2px solid #ff4500;
            border-radius: 10px;
            font-size: 1.2em;
        }

        .payment-form button {
            background: #ff4500;
            color: #fff;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            cursor: pointer;
            font-size: 1.3em;
            transition: all 0.3s;
            display: block;
            margin: 0 auto;
        }

        .payment-form button:hover {
            background: #ff0066;
            box-shadow: 0 0 20px #ff0066;
        }

        .loading {
            display: none;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 1.5em;
            color: #ff4500;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* Vòng quay may mắn */
        .lucky-spin {
            text-align: center;
            margin: 60px 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        .lucky-spin h2 {
            color: #ffcc00;
            font-size: 3em;
            margin-bottom: 40px;
            text-shadow: 0 0 20px #ff4500;
        }

        .wheel-container {
            position: relative;
            width: 300px;
            height: 300px;
            margin: 0 auto;
            border: 5px solid #ff4500;
            border-radius: 50%;
            box-shadow: 0 0 30px rgba(255, 69, 0, 0.7);
        }

        .wheel {
            width: 100%;
            height: 100%;
            background: url('https://i.ibb.co/2n5W5kW/wheel.png') no-repeat center;
            background-size: cover;
            border-radius: 50%;
            transition: transform 4s ease-out;
        }

        .spin-button {
            background: #ff4500;
            color: #fff;
            border: none;
            padding: 20px 50px;
            border-radius: 30px;
            font-size: 1.5em;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
        }

        .spin-button:hover {
            background: #ff0066;
            box-shadow: 0 0 20px #ff0066;
        }

        /* Bảng xếp hạng */
        .leaderboard {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 60px;
            border: 2px solid #ff4500;
        }

        .leaderboard h2 {
            color: #ffcc00;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
        }

        .leaderboard table {
            width: 100%;
            border-collapse: collapse;
            color: #fff;
        }

        .leaderboard th, .leaderboard td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
        }

        .leaderboard th {
            background: #ff4500;
        }

        /* Hệ thống điểm thưởng */
        .points-system {
            text-align: center;
            margin: 60px 0;
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            border: 2px solid #ff4500;
        }

        .points-system h2 {
            color: #ffcc00;
            font-size: 2.5em;
            margin-bottom: 30px;
        }

        .points-system p {
            font-size: 1.2em;
            margin-bottom: 20px;
        }

        .points-system button {
            background: #ff4500;
            color: #fff;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 1.3em;
            cursor: pointer;
            transition: all 0.3s;
        }

        .points-system button:hover {
            background: #ff0066;
            box-shadow: 0 0 20px #ff0066;
        }

        /* Hệ thống nhiệm vụ hàng ngày */
        .daily-quests {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 60px;
            border: 2px solid #ff4500;
        }

        .daily-quests h2 {
            color: #ffcc00;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
        }

        .quest-list {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .quest {
            background: rgba(255, 255, 255, 0.2);
            padding: 20px;
            border-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .quest.completed {
            background: rgba(0, 204, 0, 0.2);
        }

        .quest button {
            background: #ff4500;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .quest button:hover {
            background: #ff0066;
        }

        .quest button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }

        /* Hệ thống mã quà tặng */
        .gift-code {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 60px;
            border: 2px solid #ff4500;
        }

        .gift-code h2 {
            color: #ffcc00;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
        }

        .gift-code form {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .gift-code input {
            padding: 15px;
            border: 2px solid #ff4500;
            border-radius: 10px;
            font-size: 1.2em;
            width: 300px;
        }

        .gift-code button {
            background: #ff4500;
            color: #fff;
            border: none;
            padding: 15px 30px;
            border-radius: 30px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .gift-code button:hover {
            background: #ff0066;
            box-shadow: 0 0 20px #ff0066;
        }

        /* Giao dịch gần đây */
        .recent-transactions {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 60px;
            border: 2px solid #ff4500;
        }

        .recent-transactions h2 {
            color: #ffcc00;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
        }

        .recent-transactions ul {
            list-style: none;
        }

        .recent-transactions li {
            padding: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 1.1em;
        }

        /* Lịch sử nhận thưởng */
        .reward-history {
            background: rgba(255, 255, 255, 0.1);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 60px;
            border: 2px solid #ff4500;
        }

        .reward-history h2 {
            color: #ffcc00;
            font-size: 2.5em;
            margin-bottom: 30px;
            text-align: center;
        }

        .reward-history ul {
            list-style: none;
        }

        .reward-history li {
            padding: 10px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 1.1em;
        }

        /* Live Chat */
        .live-chat {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: #ff4500;
            color: #fff;
            padding: 15px 25px;
            border-radius: 50px;
            cursor: pointer;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .chat-box {
            display: none;
            position: fixed;
            bottom: 80px;
            right: 20px;
            background: #fff;
            color: #333;
            width: 350px;
            border-radius: 20px;
            box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
            z-index: 1000;
        }

        .chat-box h3 {
            background: #ff4500;
            color: #fff;
            padding: 20px;
            border-radius: 20px 20px 0 0;
            margin: 0;
        }

        .chat-box .messages {
            padding: 20px;
            max-height: 250px;
            overflow-y: auto;
        }

        .chat-box input {
            width: 100%;
            padding: 15px;
            border: none;
            border-top: 1px solid #ccc;
            border-radius: 0 0 20px 20px;
        }

        /* Thông báo */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 30px;
            border-radius: 10px;
            color: #fff;
            font-weight: bold;
            z-index: 1000;
            animation: slideIn 0.5s ease-in-out;
        }

        .success {
            background: #00cc00;
        }

        .error {
            background: #ff4500;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); }
            to { transform: translateX(0); }
        }

        /* Footer */
        footer {
            text-align: center;
            padding: 50px;
            background: rgba(0, 0, 0, 0.8);
            margin-top: 70px;
            font-size: 1.1em;
            border-top: 3px solid #ff4500;
        }

        footer .contact-info {
            color: #ffcc00;
            margin: 20px 0;
        }

        footer .garena-info {
            margin-top: 30px;
            font-size: 0.95em;
            color: #ccc;
        }

        footer a {
            color: #ffcc00;
            text-decoration: none;
        }

        footer a:hover {
            color: #ff0066;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Responsive */
        @media (max-width: 768px) {
            .container {
                padding: 20px;
            }

            .section {
                padding: 30px;
            }

            .welcome {
                font-size: 2em;
            }

            .package {
                padding: 20px;
            }

            .package h3 {
                font-size: 1.8em;
            }

            .auth-form, .payment-form {
                padding: 30px;
            }

            .wheel-container {
                width: 200px;
                height: 200px;
            }

            .lucky-spin h2 {
                font-size: 2em;
            }

            .account-info, .leaderboard, .points-system, .daily-quests, .gift-code, .recent-transactions, .reward-history {
                padding: 20px;
            }

            .account-info h2, .leaderboard h2, .points-system h2, .daily-quests h2, .gift-code h2, .recent-transactions h2, .reward-history h2 {
                font-size: 1.8em;
            }

            .gift-code form {
                flex-direction: column;
                align-items: center;
            }

            .gift-code input {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="bubbles" id="bubbles"></div>
    <div class="fireflies" id="fireflies"></div>
    <div class="stars" id="stars"></div>
    <div class="snowflakes" id="snowflakes"></div>

    <!-- Menu 3 gạch -->
    <div class="hamburger-menu" onclick="toggleMenu()">
        <i class="fas fa-bars icon"></i>
    </div>
    <div class="menu" id="menu">
        <ul>
            <li><a href="#" onclick="scrollToSection('welcome')">Trang Chủ</a></li>
            <li><a href="napthe.html">Nạp Thẻ</a></li>
            <li><a href="#" onclick="scrollToSection('contact')">Thông Tin Liên Hệ</a></li>
        </ul>
    </div>

    <div class="container">
        <div class="welcome" id="welcome">Shop DGViKAKA Xin Chào!</div>

        <!-- Thông tin tài khoản -->
        <div class="account-info" id="accountInfo">
            <h2>Thông Tin Tài Khoản</h2>
            <p><strong>Tên Người Dùng:</strong> <span id="accountUsername"></span></p>
            <p><strong>Email:</strong> <span id="accountEmail"></span></p>
            <p><strong>Số Dư Kim Cương Đã Nạp:</strong> <span id="accountDiamonds">0</span> KC</p>
            <p><strong>Điểm Thưởng:</strong> <span id="accountPoints">0</span> điểm</p>
            <p class="level"><strong>Cấp Độ:</strong> <span id="accountLevel">1</span></p>
            <button class="logout-btn" onclick="logout()"><i class="fas fa-sign-out-alt"></i> Đăng Xuất</button>
        </div>

        <!-- Đăng nhập/Đăng ký -->
        <div class="section" id="auth">
            <!-- Form Đăng Nhập -->
            <div class="auth-form" id="loginForm">
                <h3>Đăng Nhập</h3>
                <form onsubmit="login(event)">
                    <label for="loginIdentifier">Tên Đăng Nhập hoặc Email:</label>
                    <input type="text" id="loginIdentifier" placeholder="Nhập tên đăng nhập hoặc email" required>
                    <label for="loginPhone">Số Điện Thoại:</label>
                    <input type="tel" id="loginPhone" placeholder="Nhập số điện thoại" required pattern="0[0-9]{9}">
                    <label for="loginPassword">Mật Khẩu:</label>
                    <input type="password" id="loginPassword" placeholder="Nhập mật khẩu" required>
                    <button type="submit"><i class="fas fa-sign-in-alt"></i> Xác Nhận</button>
                </form>
                <p style="margin-top: 20px; text-align: center;">Chưa có tài khoản? <a href="#" onclick="showRegisterForm()">Đăng ký ngay</a></p>
            </div>

            <!-- Form Đăng Ký -->
            <div class="auth-form" id="registerForm" style="display: none;">
                <h3>Đăng Ký</h3>
                <form onsubmit="register(event)">
                    <label for="registerUsername">Tên Đăng Nhập:</label>
                    <input type="text" id="registerUsername" placeholder="Nhập tên đăng nhập" required>
                    <label for="registerPassword">Mật Khẩu:</label>
                    <input type="password" id="registerPassword" placeholder="Nhập mật khẩu" required>
                    <label for="registerEmail">Email:</label>
                    <input type="email" id="registerEmail" value="duongvitsan123@gmail.com" readonly>
                    <label for="registerPhone">Số Điện Thoại:</label>
                    <input type="tel" id="registerPhone" placeholder="Nhập số điện thoại" required pattern="0[0-9]{9}">
                    <button type="submit"><i class="fas fa-user-plus"></i> Xác Nhận</button>
                </form>
                <p style="margin-top: 20px; text-align: center;">Đã có tài khoản? <a href="#" onclick="showLoginForm()">Đăng nhập ngay</a></p>
            </div>
        </div>

        <!-- Gói kim cương -->
        <div class="section" id="packages">
            <h2>Gói Kim Cương</h2>
            <div class="package-list">
                <div class="package">
                    <h3>100 KC</h3>
                    <p>Giá: 20.000 VNĐ</p>
                    <button onclick="window.location.href='napthe.html?package=100 KC&price=20000&diamonds=100'"><i class="fas fa-shopping-cart"></i> Mua Ngay</button>
                </div>
                <div class="package">
                    <h3>500 KC</h3>
                    <p>Giá: 90.000 VNĐ</p>
                    <button onclick="window.location.href='napthe.html?package=500 KC&price=90000&diamonds=500'"><i class="fas fa-shopping-cart"></i> Mua Ngay</button>
                </div>
                <div class="package">
                    <h3>1000 KC</h3>
                    <p>Giá: 180.000 VNĐ</p>
                    <button onclick="window.location.href='napthe.html?package=1000 KC&price=180000&diamonds=1000'"><i class="fas fa-shopping-cart"></i> Mua Ngay</button>
                </div>
                <div class="package">
                    <h3>5000 KC</h3>
                    <p>Giá: 850.000 VNĐ</p>
                    <button onclick="window.location.href='napthe.html?package=5000 KC&price=850000&diamonds=5000'"><i class="fas fa-shopping-cart"></i> Mua Ngay</button>
                </div>
            </div>
        </div>

        <!-- Vòng quay may mắn -->
        <div class="lucky-spin">
            <h2>Vòng Quay May Mắn Kim Cương</h2>
            <div class="wheel-container">
                <div class="wheel" id="wheel"></div>
            </div>
            <button class="spin-button" onclick="spinWheel()"><i class="fas fa-sync-alt"></i> Quay Ngay</button>
        </div>

        <!-- Bảng xếp hạng -->
        <div class="leaderboard">
            <h2>Bảng Xếp Hạng Người Nạp</h2>
            <table id="leaderboardTable">
                <thead>
                    <tr>
                        <th>Xếp Hạng</th>
                        <th>Tên Người Dùng</th>
                        <th>Số Kim Cương</th>
                    </tr>
                </thead>
                <tbody></tbody>
            </table>
        </div>

        <!-- Hệ thống điểm thưởng -->
        <div class="points-system">
            <h2>Hệ Thống Điểm Thưởng</h2>
            <p id="pointsDisplay">Bạn hiện có: 0 điểm</p>
            <button onclick="redeemPoints()"><i class="fas fa-gift"></i> Đổi Quà</button>
        </div>

        <!-- Nhiệm vụ hàng ngày -->
        <div class="daily-quests">
            <h2>Nhiệm Vụ Hàng Ngày</h2>
            <div class="quest-list" id="questList">
                <div class="quest" id="quest1">
                    <span>Đăng nhập hôm nay</span>
                    <button onclick="completeQuest(1, 10)">Nhận 10 điểm</button>
                </div>
                <div class="quest" id="quest2">
                    <span>Nạp ít nhất 100 KC</span>
                    <button onclick="completeQuest(2, 20)">Nhận 20 điểm</button>
                </div>
                <div class="quest" id="quest3">
                    <span>Quay vòng quay 1 lần</span>
                    <button onclick="completeQuest(3, 15)">Nhận 15 điểm</button>
                </div>
            </div>
        </div>

        <!-- Mã quà tặng -->
        <div class="gift-code">
            <h2>Nhập Mã Quà Tặng</h2>
            <form onsubmit="redeemGiftCode(event)">
                <input type="text" id="giftCode" placeholder="Nhập mã quà tặng" required>
                <button type="submit"><i class="fas fa-gift"></i> Nhận Quà</button>
            </form>
        </div>

        <!-- Giao dịch gần đây -->
        <div class="recent-transactions">
            <h2>Giao Dịch Gần Đây</h2>
            <ul id="transactionList"></ul>
        </div>

        <!-- Lịch sử nhận thưởng -->
        <div class="reward-history">
            <h2>Lịch Sử Nhận Thưởng</h2>
            <ul id="rewardHistory"></ul>
        </div>

        <!-- Liên hệ -->
        <div class="section" id="contact">
            <h2>Thông Tin Liên Hệ</h2>
            <p><strong>Số điện thoại hỗ trợ thanh toán:</strong> <span class="contact-info">0785308626</span></p>
            <p><strong>Email:</strong> <span class="contact-info">duongvitsan123@gmail.com</span></p>
            <p><strong>Địa chỉ:</strong> <span class="contact-info">123 Đường Free Fire, Quận Garena, TP. Kim Cương</span></p>
            <p><strong>Fanpage:</strong> <span class="contact-info"><a href="#" style="color: #ffcc00;">facebook.com/DGViKAKA</a></span></p>
        </div>
    </div>

    <!-- Live Chat -->
    <div class="live-chat" onclick="toggleChat()">
        <i class="fas fa-comment"></i> Chat Hỗ Trợ
    </div>
    <div class="chat-box" id="chatBox">
        <h3>Hỗ Trợ Trực Tuyến</h3>
        <div class="messages" id="chatMessages"></div>
        <input type="text" id="chatInput" placeholder="Nhập tin nhắn..." onkeypress="if(event.keyCode==13) sendMessage()">
    </div>

    <!-- Footer -->
    <footer>
        <p>© 2025 Shop Kim Cương Free Fire - DGViKAKA. All Rights Reserved.</p>
        <p class="contact-info">Hotline: 0785308626 | Email: duongvitsan123@gmail.com</p>
        <div class="garena-info">
            <p>Website chính thức của Garena: <a href="https://www.garena.vn" target="_blank">www.garena.vn</a></p>
            <p>Free Fire - Bản quyền thuộc Garena International.</p>
        </div>
    </footer>

    <!-- Âm thanh -->
    <audio id="spinSound" src="https://www.soundjay.com/buttons/beep-01a.mp3"></audio>
    <audio id="successSound" src="https://www.soundjay.com/buttons/beep-02.mp3"></audio>
<script>
        // Hiệu ứng bong bóng bay
        function createBubbles() {
            const bubblesContainer = document.getElementById('bubbles');
            for (let i = 0; i < 10; i++) {
                const bubble = document.createElement('div');
                bubble.classList.add('bubble');
                bubble.style.width = `${Math.random() * 20 + 10}px`;
                bubble.style.height = bubble.style.width;
                bubble.style.left = `${Math.random() * 100}vw`;
                bubble.style.animationDelay = `${Math.random() * 5}s`;
                bubblesContainer.appendChild(bubble);
            }
        }
        createBubbles();

        // Hiệu ứng đom đóm
        function createFireflies() {
            const firefliesContainer = document.getElementById('fireflies');
            for (let i = 0; i < 15; i++) {
                const firefly = document.createElement('div');
                firefly.classList.add('firefly');
                firefly.style.width = `${Math.random() * 5 + 5}px`;
                firefly.style.height = firefly.style.width;
                firefly.style.left = `${Math.random() * 100}vw`;
                firefly.style.top = `${Math.random() * 100}vh`;
                firefly.style.animationDelay = `${Math.random() * 5}s`;
                firefliesContainer.appendChild(firefly);
            }
        }
        createFireflies();

        // Hiệu ứng ánh sao lấp lánh
        function createStars() {
            const starsContainer = document.getElementById('stars');
            for (let i = 0; i < 20; i++) {
                const star = document.createElement('div');
                star.classList.add('star');
                star.style.width = `${Math.random() * 3 + 2}px`;
                star.style.height = star.style.width;
                star.style.left = `${Math.random() * 100}vw`;
                star.style.top = `${Math.random() * 100}vh`;
                star.style.animationDelay = `${Math.random() * 2}s`;
                starsContainer.appendChild(star);
            }
        }
        createStars();

        // Hiệu ứng tuyết rơi
        function createSnowflakes() {
            const snowflakesContainer = document.getElementById('snowflakes');
            for (let i = 0; i < 50; i++) {
                const snowflake = document.createElement('div');
                snowflake.classList.add('snowflake');
                snowflake.innerHTML = '❄';
                snowflake.style.left = `${Math.random() * 100}vw`;
                snowflake.style.animationDelay = `${Math.random() * 5}s`;
                snowflake.style.animationDuration = `${Math.random() * 5 + 5}s`;
                snowflakesContainer.appendChild(snowflake);
            }
        }
        createSnowflakes();

        // Hiệu ứng ánh sáng khi nhận thưởng
        function createSparkles(x, y) {
            for (let i = 0; i < 10; i++) {
                const sparkle = document.createElement('div');
                sparkle.classList.add('reward-sparkle');
                sparkle.style.left = `${x + Math.random() * 50 - 25}px`;
                sparkle.style.top = `${y + Math.random() * 50 - 25}px`;
                document.body.appendChild(sparkle);
            }
        }

        // Menu 3 gạch
        function toggleMenu() {
            const menu = document.getElementById('menu');
            menu.classList.toggle('active');
        }

        function scrollToSection(sectionId) {
            const section = document.getElementById(sectionId);
            section.scrollIntoView({ behavior: 'smooth' });
            toggleMenu();
        }

        // Quản lý người dùng, điểm thưởng và số dư
        let users = JSON.parse(localStorage.getItem('users')) || [];
        let currentUser = null;
        let points = JSON.parse(localStorage.getItem('points')) || {};
        let diamonds = JSON.parse(localStorage.getItem('diamonds')) || {};
        let leaderboard = JSON.parse(localStorage.getItem('leaderboard')) || [];
        let transactions = JSON.parse(localStorage.getItem('transactions')) || [];
        let rewards = JSON.parse(localStorage.getItem('rewards')) || [];
        let quests = JSON.parse(localStorage.getItem('quests')) || { 1: false, 2: false, 3: false };
        let lastLogin = localStorage.getItem('lastLogin') || null;
        let userLevel = JSON.parse(localStorage.getItem('userLevel')) || {};

        // Chuyển đổi giữa form đăng ký và đăng nhập
        function showRegisterForm() {
            document.getElementById('loginForm').style.display = 'none';
            document.getElementById('registerForm').style.display = 'block';
        }

        function showLoginForm() {
            document.getElementById('loginForm').style.display = 'block';
            document.getElementById('registerForm').style.display = 'none';
        }

        // Xử lý đăng ký
        function register(event) {
            event.preventDefault();

            const username = document.getElementById('registerUsername').value;
            const password = document.getElementById('registerPassword').value;
            const email = document.getElementById('registerEmail').value;
            const phone = document.getElementById('registerPhone').value;

            // Kiểm tra số điện thoại
            if (phone.length !== 10 || !phone.startsWith('0')) {
                showNotification('Số điện thoại không hợp lệ! Vui lòng nhập số điện thoại 10 chữ số bắt đầu bằng 0.', 'error');
                return;
            }

            // Kiểm tra xem tên đăng nhập, email hoặc số điện thoại đã tồn tại chưa
            if (users.some(user => user.username === username)) {
                showNotification('Tên đăng nhập đã tồn tại!', 'error');
                return;
            }

            if (users.some(user => user.email === email)) {
                showNotification('Email đã được sử dụng!', 'error');
                return;
            }

            if (users.some(user => user.phone === phone)) {
                showNotification('Số điện thoại đã được sử dụng!', 'error');
                return;
            }

            // Lưu thông tin người dùng vào localStorage
            users.push({ username, password, email, phone });
            points[username] = 0;
            diamonds[username] = 0;
            userLevel[username] = 1;
            localStorage.setItem('users', JSON.stringify(users));
            localStorage.setItem('points', JSON.stringify(points));
            localStorage.setItem('diamonds', JSON.stringify(diamonds));
            localStorage.setItem('userLevel', JSON.stringify(userLevel));

            showNotification('Đăng ký thành công! Vui lòng đăng nhập.', 'success');
            showLoginForm();
            document.getElementById('registerForm').reset();
        }

        // Xử lý đăng nhập
        function login(event) {
            event.preventDefault();

            const identifier = document.getElementById('loginIdentifier').value;
            const phone = document.getElementById('loginPhone').value;
            const password = document.getElementById('loginPassword').value;

            // Kiểm tra số điện thoại
            if (phone.length !== 10 || !phone.startsWith('0')) {
                showNotification('Số điện thoại không hợp lệ! Vui lòng nhập số điện thoại 10 chữ số bắt đầu bằng 0.', 'error');
                return;
            }

            // Tìm người dùng dựa trên tên đăng nhập hoặc email, số điện thoại và mật khẩu
            const user = users.find(user => 
                (user.username === identifier || user.email === identifier) && 
                user.phone === phone && 
                user.password === password
            );

            if (user) {
                currentUser = user.username;
                showNotification(`Đăng nhập thành công! Chào mừng ${user.username}!`, 'success');
                document.getElementById('auth').style.display = 'none';
                document.getElementById('accountInfo').style.display = 'block';
                updateAccountInfo();
                updatePointsDisplay();
                updateLeaderboard();
                checkDailyLogin();
            } else {
                showNotification('Thông tin đăng nhập không đúng! Vui lòng kiểm tra lại.', 'error');
            }
        }

        // Kiểm tra đăng nhập hàng ngày
        function checkDailyLogin() {
            const today = new Date().toDateString();
            if (lastLogin !== today && currentUser) {
                points[currentUser] = (points[currentUser] || 0) + 10;
                localStorage.setItem('points', JSON.stringify(points));
                localStorage.setItem('lastLogin', today);
                showNotification('Bạn nhận được 10 điểm thưởng đăng nhập hàng ngày! ✅', 'success');
                updatePointsDisplay();
                completeQuest(1, 0);
                rewards.push(`${currentUser} nhận 10 điểm từ đăng nhập hàng ngày`);
                localStorage.setItem('rewards', JSON.stringify(rewards));
                updateRewardHistory();
            }
        }

        function logout() {
            currentUser = null;
            document.getElementById('auth').style.display = 'block';
            document.getElementById('accountInfo').style.display = 'none';
            showLoginForm();
            showNotification('Bạn đã đăng xuất thành công! ✅', 'success');
        }

        function updateAccountInfo() {
            const user = users.find(u => u.username === currentUser);
            if (user) {
                document.getElementById('accountUsername').textContent = user.username;
                document.getElementById('accountEmail').textContent = user.email;
                document.getElementById('accountDiamonds').textContent = diamonds[currentUser] || 0;
                document.getElementById('accountPoints').textContent = points[currentUser] || 0;
                const level = Math.floor((diamonds[currentUser] || 0) / 1000) + 1;
                userLevel[currentUser] = level;
                localStorage.setItem('userLevel', JSON.stringify(userLevel));
                document.getElementById('accountLevel').textContent = level;
            }
        }

        // Vòng quay may mắn
        let isSpinning = false;
        function spinWheel() {
            if (isSpinning) return;
            isSpinning = true;

            const wheel = document.getElementById('wheel');
            const randomDeg = Math.floor(Math.random() * 360) + 720;
            wheel.style.transform = `rotate(${randomDeg}deg)`;
            document.getElementById('spinSound').play();

            setTimeout(() => {
                const rewardsList = [
                    { name: '50 KC', chance: 0.30 },
                    { name: '100 KC', chance: 0.30 },
                    { name: '200 KC', chance: 0.20 },
                    { name: '500 KC', chance: 0.15 },
                    { name: '1000 KC', chance: 0.05 }
                ];

                let random = Math.random();
                let reward = null;
                let cumulativeChance = 0;

                for (const r of rewardsList) {
                    cumulativeChance += r.chance;
                    if (random <= cumulativeChance) {
                        reward = r.name;
                        break;
                    }
                }

                showNotification(`Chúc mừng! Bạn nhận được: ${reward} ✅`, 'success');
                createSparkles(window.innerWidth / 2, window.innerHeight / 2);
                if (currentUser) {
                    const diamondsWon = parseInt(reward);
                    points[currentUser] = (points[currentUser] || 0) + Math.floor(diamondsWon / 20);
                    diamonds[currentUser] = (diamonds[currentUser] || 0) + diamondsWon;
                    localStorage.setItem('points', JSON.stringify(points));
                    localStorage.setItem('diamonds', JSON.stringify(diamonds));
                    updateAccountInfo();
                    updatePointsDisplay();
                    rewards.push(`${currentUser} nhận ${reward} từ vòng quay may mắn`);
                    localStorage.setItem('rewards', JSON.stringify(rewards));
                    updateRewardHistory();
                    completeQuest(3, 0);
                }
                isSpinning = false;
            }, 4000);
        }

        // Hệ thống điểm thưởng
        function updatePointsDisplay() {
            if (currentUser) {
                document.getElementById('pointsDisplay').textContent = `Bạn hiện có: ${points[currentUser] || 0} điểm`;
            }
        }

        function redeemPoints() {
            if (!currentUser) {
                showNotification('Vui lòng đăng nhập để đổi quà! ❌', 'error');
                return;
            }

            const userPoints = points[currentUser] || 0;
            if (userPoints < 100) {
                showNotification('Bạn cần ít nhất 100 điểm để đổi quà! ❌', 'error');
                return;
            }

            points[currentUser] -= 100;
            diamonds[currentUser] = (diamonds[currentUser] || 0) + 100;
            localStorage.setItem('points', JSON.stringify(points));
            localStorage.setItem('diamonds', JSON.stringify(diamonds));
            updateAccountInfo();
            updatePointsDisplay();
            showNotification('Chúc mừng! Bạn đã đổi được 100 kim cương! ✅', 'success');
            createSparkles(window.innerWidth / 2, window.innerHeight / 2);
            rewards.push(`${currentUser} đổi 100 điểm để nhận 100 kim cương`);
            localStorage.setItem('rewards', JSON.stringify(rewards));
            updateRewardHistory();
        }

        // Bảng xếp hạng
        function updateLeaderboard() {
            const tbody = document.querySelector('#leaderboardTable tbody');
            tbody.innerHTML = '';
            leaderboard.slice(0, 5).forEach((entry, index) => {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${index + 1}</td>
                    <td>${entry.username}</td>
                    <td>${entry.diamonds}</td>
                `;
                tbody.appendChild(row);
            });
        }

        // Nhiệm vụ hàng ngày
        function completeQuest(questId, rewardPoints) {
            if (!currentUser) {
                showNotification('Vui lòng đăng nhập để hoàn thành nhiệm vụ! ❌', 'error');
                return;
            }

            if (quests[questId]) {
                showNotification('Bạn đã hoàn thành nhiệm vụ này hôm nay! ❌', 'error');
                return;
            }

            quests[questId] = true;
            points[currentUser] = (points[currentUser] || 0) + rewardPoints;
            localStorage.setItem('quests', JSON.stringify(quests));
            localStorage.setItem('points', JSON.stringify(points));
            updatePointsDisplay();

            const questElement = document.getElementById(`quest${questId}`);
            questElement.classList.add('completed');
            questElement.querySelector('button').disabled = true;
            showNotification(`Chúc mừng! Bạn nhận được ${rewardPoints} điểm từ nhiệm vụ! ✅`, 'success');
            createSparkles(window.innerWidth / 2, window.innerHeight / 2);
            rewards.push(`${currentUser} nhận ${rewardPoints} điểm từ nhiệm vụ ${questId}`);
            localStorage.setItem('rewards', JSON.stringify(rewards));
            updateRewardHistory();
        }

        // Mã quà tặng
        function redeemGiftCode(event) {
            event.preventDefault();
            if (!currentUser) {
                showNotification('Vui lòng đăng nhập để nhận quà! ❌', 'error');
                return;
            }

            const code = document.getElementById('giftCode').value;
            const validCodes = {
                'FREEFIRE2025': { diamonds: 100, points: 50 },
                'DGVIKAKA': { diamonds: 50, points: 20 }
            };

            if (validCodes[code]) {
                const reward = validCodes[code];
                diamonds[currentUser] = (diamonds[currentUser] || 0) + reward.diamonds;
                points[currentUser] = (points[currentUser] || 0) + reward.points;
                localStorage.setItem('diamonds', JSON.stringify(diamonds));
                localStorage.setItem('points', JSON.stringify(points));
                updateAccountInfo();
                updatePointsDisplay();
                showNotification(`Chúc mừng! Bạn nhận được ${reward.diamonds} KC và ${reward.points} điểm! ✅`, 'success');
                createSparkles(window.innerWidth / 2, window.innerHeight / 2);
                rewards.push(`${currentUser} nhận ${reward.diamonds} KC và ${reward.points} điểm từ mã ${code}`);
                localStorage.setItem('rewards', JSON.stringify(rewards));
                updateRewardHistory();
            } else {
                showNotification('Mã quà tặng không hợp lệ! ❌', 'error');
            }

            document.getElementById('giftCode').value = '';
        }

        // Giao dịch gần đây
        function updateTransactions() {
            const transactionList = document.getElementById('transactionList');
            transactionList.innerHTML = '';
            transactions.forEach(transaction => {
                const li = document.createElement('li');
                li.textContent = transaction;
                transactionList.appendChild(li);
            });
        }

        // Lịch sử nhận thưởng
        function updateRewardHistory() {
            const rewardList = document.getElementById('rewardHistory');
            rewardList.innerHTML = '';
            rewards.slice(0, 5).forEach(reward => {
                const li = document.createElement('li');
                li.textContent = reward;
                rewardList.appendChild(li);
            });
        }

        // Live Chat
        function toggleChat() {
            const chatBox = document.getElementById('chatBox');
            chatBox.style.display = chatBox.style.display === 'block' ? 'none' : 'block';
        }

        function sendMessage() {
            const chatInput = document.getElementById('chatInput');
            const chatMessages = document.getElementById('chatMessages');
            const message = chatInput.value.trim();

            if (message) {
                const messageElement = document.createElement('p');
                messageElement.textContent = `Bạn: ${message}`;
                chatMessages.appendChild(messageElement);
                chatInput.value = '';

                setTimeout(() => {
                    const reply = document.createElement('p');
                    reply.textContent = `Hỗ trợ: Chào bạn! Chúng tôi sẽ giúp bạn ngay.`;
                    chatMessages.appendChild(reply);
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 1000);
            }
        }

        // Thông báo
        function showNotification(message, type) {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.textContent = message;
            document.body.appendChild(notification);
            setTimeout(() => notification.remove(), 3000);
        }

        // Khởi tạo
        updateTransactions();
        updateRewardHistory();
    </script>
</body>
</html>